\chapter{Measures on Topological Spaces, Problemset 2}

\section*{Problem 1}

Such an \( a \) exists by compactness of \( A \) and continuity of metric. If we have two \( a_1, a_2 \) such that 
\[ 
    \rho(x, a_1) = \rho(x, a_2) 
\]
then \( a_1, a_2 \) must agree and disagree with \( x \) at all places, so in fact \( a_1 = a_2 \), thus \( r_A \) is well-defined. For any \( a \in A \), \( d(a,A) = 0 = d(a,a) \), so \( r_A \) is a retraction. What remains to be shown is continuity.

Let \( x, y \) agree up to \( n_0(x,y) \). Then \( r_A(x) \) and \( r_A(y) \) also agree up to \( n_0(x,y) \) -- if they differed earlier, we could use \( r_A(x) \) instead of \( r_A(y) \) and get a closer point \( a \) in the definition! So we have
\[ 
    n_0(x, y) \leqslant n_0 \left( r_A(x), r_A(y) \right) 
\]
and
\[ 
    d(x,y) \geqslant d \left(  r_A(x), r_A(y) \right).
\]

\paragraph{Remark.} The metric \( d(x,y) = 1/n_0(x,y) \), i.e. the first moment where \( x \) and \( y \) differ, won't work, because it can't tell apart points from which \( x \) differs at the same position!

\section*{Problem 2}

\section*{Problem 3}

Any \( A, B \in \Clop \mathcal{C} \) can be written as disjoint sums of the basis sets \( \left[ \varphi \right] \) by \ref{CantorClopen}. Since the condition distributes over disjoint sums, we will prove the statement for \( A = \left[ \varphi \right] \) and \( B = \left[ \psi \right] \) with
\[ 
    \left| \dom \varphi \right|, \left| \dom \psi \right| < \infty.
\]
Let \( I = \dom \varphi \), \( J = \dom \psi \) be the disjoint(!) domains of \( \varphi \), \( \psi \). There is a function \( \tau \) on \( I \cup J \) such that
\[ 
    \tau |_I = \phi,\, \tau |_J = \psi.
\]
For such a function,
\[ 
    \left[ \varphi \right] \cap \left[ \psi \right] = \left[ \tau \right]. 
\]
Now take an \( n \) such that \( I \cup J \subseteq \left\{ 1, 2, \ldots, n \right\} \) and denote the last set as \( \left[ n \right] \). By \ref{CantorCylinderMeasure} we compute
\begin{align*}
    \nu \left[ \varphi \right] &= 2^{-|I|} \\
    \nu \left[ \psi \right] &= 2^{-|J|} \\
    \nu \left[ \tau \right] &= 2^{-|I \cup J|},
\end{align*}
and \( |I \cup J| = |I| \cup |J|  \) finishes the proof. Now take arbitrary \( A, B \in \Bor \mathcal{C} \) such that \( A \sim I \), \( B \sim J \). Approximate \( A, B \) by clopens \( A', B' \) to within an \(\varepsilon \), i.e. so that
\[ 
    \nu (A \Delta A'),\, \nu (B \Delta B') <\varepsilon. 
\]
We cannot use the clopen statement we just proved since a priori \( A' \) and \( B' \) could be determined by sets with nonempty intersection. We can, however, improve the approximation with
\[ 
    \widetilde{A} := \pi_I^{-1} \pi_I A'.
\]
The set \( \widetilde{A} \) is still a clopen -- since \( A' \) was determined by a finite set \( K \), \( \widetilde{A} \) is determined by \( K \cap I \). Additionally we have
\[ 
    \widetilde{A} \Delta A \subseteq A' \Delta A, 
\]
so we have improved the approximation! Now, do the same for \( B' \) and use the statement for clopens to finish up the solution.

\paragraph{Warning!} The reasoning below does not work! (For tail sets, for example)

We can approximate \( A, B \) by decreasing sequences of clopens by putting down
\[
    A_n := \pi_{[n]}^{-1} \pi_{[n]} A
\]
and the same for \( B_n \). We also approximate their intersection by decreasing clopens in the same way, i.e.
\[ 
    C_n := \pi_{[n]}^{-1} \pi_{[n]} (A \cap B).
\]
For these approximations
\[ 
    C_n = A_n \cap B_n, 
\]
so by the first subproblem
\[ 
    \nu(C_n) = \nu(A_n \cap B_n) = \nu(A_n) \cdot \nu(B_n).
\]
Since the measure \( \nu \) is probabilistic, and hence continuous, by passing to the limit \( n \to \infty \) we get what we need.

\section*{Problem 6}

Any clopen \( C \in \Clop \mathcal{C} \) is a disjoint sum of basis cylinders by \ref{CantorClopen}. Since \( \oplus \) is a group operation, the function 
\[ 
    l_x(y) = x \oplus y 
\]
is bijective, so on the level of sets \( l_x \) distributes over disjoint sums. We check the property for a cylinder \( \left[ \varphi \right] \). This is easy, since
\[ 
    \nu \Bigl( x \oplus \left[ \varphi \right] \Bigr) = \nu[ x \oplus \varphi] = 2^{-|\dom \varphi|} = \nu [\varphi]
\]
by \ref{CantorCylinderMeasure}. Now consider the family of sets
\[ 
    \mathcal{A} := \Bigl\{ A : \forall x \in \mathcal{C}. \,\nu(A) = \nu(x \oplus A) \Bigr\}.
\]
We will show that this is a \( \sigma \)-algebra. Since we have already shown that it contains all the clopens, which form a basis of the topology on \( \mathcal{C} \), it will automatically be equal to \( \Bor \mathcal{C} \) by \ref{BorelGeneration}.

A \( \sigma \)-algebra can be generated by complements and countable sums (see \ref{SigmaAlgebraGeneration}). As mentioned before, \( l_x \) respects these operations, so
\[ 
    \nu(x\oplus A^c) = \nu \Bigl( (x \oplus A)^c \Bigr) = 1 - \nu(x \oplus A) = 1 - \nu(A) = \nu(A^c) 
\]
and
\[ 
    %TODO: add disjoint sum
    \nu \left( x \oplus \bigcup_i A_i \right) = \nu \left( \bigcup_i x \oplus A_i \right) = \sum_i \nu(x \oplus A_i) = \sum_i \nu(A_i) = \nu \left( \bigcup_i A_i \right).
\]

\section*{Problem 7}

The identification is
\[ 
    A \mapsto \chi_A,\, x \mapsto \left\{ n: x_n = 1 \right\}.
\]
One easily checks that these two are mutually inverse. Addition modulo 2 comes out to \( 1 \) iff exactly one of the summands is \( 1 \), and this corresponds exactly to belonging to the symmetric difference.

\section*{Problem 8}
%TODO: fix notation of F_A

A filter cannot contain both \( A \) and \( A^c \), since then it would contain \( A \cap A^c = \varnothing \). Thus, a filter containing for all \( A \) either \( A \) or \( A^c \) is maximal.

For the other direction, suppose neither \( A \) nor \( A^c \) is in a filter \( \mathcal{F} \). We define its \emph{extension}~by~\( A \)~as
\[ 
    \mathcal{F}_A = \left\{ A' \cap F : A \subseteq A', F \in \mathcal{F} \right\}.
\]
We check that this is a filter.
\begin{enumerate}
    \item If \( \varnothing \in \mathcal{F}_A \), \( \mathcal{F} \) contains a set disjoint with \( A \), so by the superset property it contains \( A^c \).
    \item Let \( A_1 \cap F_1, A_2 \cap F_2 \in \mathcal{F}_A \). Then
    \[ 
    A \subseteq A_1 \cap A_2, F_1 \cap F_2 \in \mathcal{F},
   \]
   so \( (A_1 \cap F_1) \cap (A_2 \cap F_2) = (A_1 \cap A_2) \cap (F_1 \cap F_2) \in \mathcal{F}_A \).
\item Let \( B \supseteq A' \cap F \). Then
    \[ 
       B = B \cup (A' \cap F) = (B \cup A') \cap (B \cup F)
   \]
   and \( A \subseteq A' \cup B \), \( F \subseteq B \cup F \), so \( B \in \mathcal{F}_A \).
\end{enumerate}
Of course, \( A \in \mathcal{F}_A \setminus \mathcal{F} \), so \( \mathcal{F} \) was not maximal in the first place.

\paragraph{Remark.} One can check that \( \mathcal{F}_A \) is the minimal filter containing \( \mathcal{F} \) and \( A \).

\section*{Problem 9}

The only principal ultrafilters are generated by singletons, so they are definitely measurable.

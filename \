\chapter{Boolean algebras}

To study Boolean algebras it is best to see them in action. There are two most basic uses for Boolean algebras:
\begin{enumerate}
    \item the algebra of truth values \( \left\{ 0, 1 \right\} \) of (classical, propositional) logic.
    \item the algebraic structure of \( \mathcal{P} \) with set-theoretic operations.
\end{enumerate}

\begin{defn}[Propositional formulas]
\label{PropositionalFormulaDefinition}
\hypertarget{PropositionalFormulaDefinition}
Fix a set \( \mathsf{Var} \). We call its members propositional variables. Then a \textbf{(propositional) formula} over built using the variables from \( \mathsf{Var} \) and connectives \( \wedge, \vee, \neg, \to, \leftrightarrow \).
\end{defn}

\section{Axioms of Boolean algebras}

We will now define a Boolean algebra in earnest as an algebraic structure. All the axioms are taken from Wikipedia.

\begin{defn}[Axioms of Boolean algebras]
\label{BooleanAlgebraAxioms}
\hypertarget{BooleanAlgebraAxioms}
A Boolean algebra is an algebraic structure \( \mathcal{B} = (B, 0, 1, \wedge, \vee, \neq) \) satisfying the following axioms \\
\\
\begin{minipage}[t]{0.05\textwidth}
    \phantom{asdf}
\end{minipage}
\begin{minipage}[t]{.35\textwidth}
    \( a \vee (b \vee c) = (a \vee b) \vee c \) \\
    \( a \vee b = b \vee a \) \\
    \( a \vee (a \wedge b) = a \) \\
    \( a \vee 0 = a \) \\
    \( a \vee (b \wedge c) = (a \vee b) \wedge (a \vee c) \) \\
    \( a \vee (\neg a) = 1 \)
\end{minipage}%
\begin{minipage}[t]{.35\textwidth}
    \( a \wedge (b \wedge c) = (a \wedge b) \wedge c \) \\
    \( a \wedge b = b \wedge a \) \\
    \( a \wedge (a \vee b) = a \) \\
    \( a \wedge 0 = a \) \\
    \( a \wedge (b \vee c) = (a \wedge b) \vee (a \wedge c) \) \\
    \( a \wedge (\neg a) = 0 \)
\end{minipage}%
\begin{minipage}[t]{.2\textwidth}
        associativity \\
        commutativity \\
        absorption \\
        identity \\
        distributivity \\
        complement
\end{minipage}
\end{defn}

\paragraph{Terminology.} It is a good practice to use different terms for Boolean algebras and logical terms, and even use different symbols if possible. Thus the algebraic operations are called \textbf{bottom}, \textbf{top}, \textbf{meet}, \textbf{join}, \textbf{complement} and not false, true, disjunction etc.

\begin{thm}[NAND axiomatisation]
\label{NANDAxioms}
\hypertarget{NANDAxioms}
An algebraic structure \( \mathcal{B} = (B, |) \) with the following axiom
%TODO: make this an operator
\[ 
    ((a|b)|c)|(a|((a|c)|a)) = c 
\]
is a Boolean algebra, when \( | \) is interpreted as the NAND operator.
\end{thm}

Source: \url{https://en.wikipedia.org/wiki/Minimal_axioms_for_Boolean_algebra}.

Observe that for the examples we've seen so far -- the truth value algebra \( \mathbb{B} \) and powerset algebras \( \mathcal{P}(X) \) have exactly the same identities. That is, an equation like
\[ 
    x \vee z \wedge x \wedge z = x 
\]
holds in all Boolean algebras iff it holds in the Boolean algebra \( \mathbb{B} \). One direction is trivial since \( \mathbb{B} = \mathcal{P}( \left\{  x_0 \right\} ) \). The other direction is not much difficult, since we can check identities on sets element-wise. Of course, this does not mean that one specific algebra can't have its own identities -- we're talking about \emph{laws of Boolean algebra}. A natural question to ask is whether this extends to all abstract Boolean algebras.
\paragraph{Observation.} In a Boolean algebra \( \mathcal{B} \)
\[ 
    b_1 = b_2 
\]
is equivalent to
\[ 
    b_1 \leftrightarrow b_2 = 1. 
\]
\begin{defn}
\label{BooleanAlgebraSemantics}
\hypertarget{BooleanAlgebraSemantics}
We write \( \mathcal{B}, v \models \varphi \) if 
\[ 
    \left[ \left[ \varphi \right] \right]_b = 1 
\]
and  \( \mathcal{B} \models \varphi \) if \( \mathcal{B}, v \models \varphi \) regardless of the valuation \( v \).
\end{defn}

\begin{lemma}[Filter extension]
\label{BooleanFilterExtension}
\hypertarget{BooleanFilterExtension}
Suppose that \( a, \neg a \not \in F \). Then there exists a filter \( F_a \supseteq F \) extending \( F \).
\end{lemma}

\begin{proof}
TODO.
\end{proof}

\begin{defn}[Prime filter]
\label{BooleanAlgebraPrimeFilter}
\hypertarget{BooleanAlgebraPrimeFilter}
A proper filter F is an \textbf{ultrafilter} if it satisfies any of the following equivalent conditions:
\begin{enumerate}
    \item \( a \in F \) or \( \neg a \in F \),
    \item either \( a \in F \) or \( \neg a \in F \),
    \item if \( a \vee b \in F \) then \( a \in F \) or \( b \in F \),
    \item \( a \vee b \in F \) iff \( a \in F \) or \( b \in F \).
\end{enumerate}
\end{defn}

\paragraph{What about meets?} Any filter satisfies \( a \wedge b \in F \) iff both \( a \in F \) and \( b \in F \).

\begin{proof}[Proof of equivalence.]
A proper filter cannot contain \( 0 \), which establishes \( (1) \Leftrightarrow (2) \). Order properties establish \( (3) \Leftrightarrow (4) \). 

For the downward implication, see that since \( a \vee b \in F \) then \( F \not\ni \neg(a \vee b) = \neg a \wedge \neg b \), so by the observation above \( \neg a \not\in F \) or \( \neg b \not\in F \), which implies \( a \in F \) or \( b \in F \).

For the upward implication, \( F \ni 1 = a \vee \neg a \), so at least one of \( a, \neg a \) is in \( F \).
\end{proof}

\paragraph{Terminology.} By the extension lemma \ref{BooleanFilterExtension}, a filter satisfying \( (1) \) or   \( (2) \) is a maximal proper filter. The term \emph{prime filter} is best ascribed to a filter satisfying either of the conditions \( (3) \) or \( (4) \). The reason we introduce these different words is twofold: firstly, the notions are not equivalent in slightly different algebras (e.g. the Heyting algebras of intuitionistic propositional logic). Secondly, we tease the relationship with ring theory and algebra.

\begin{problem}[P2.13 from Urzyczyn]
    Suppose \( \mathcal{B}, v \not\models \varphi \). Then there exists a prime filter \( F \subseteq B \) with \( \left[ \left[ \neg\varphi \right] \right]_v \in F\). Secondly, the binary valuation given by \( w(p) = 1 \) iff \( v(p) \in F \) satisfies \( \left[ \left[ \varphi \right] \right]_w = 0 \).
\end{problem}

\begin{proof}[Solution]
    Let \( f = \left[ \left[ \varphi \right] \right]_v \). Since \( \mathcal{B}, v \not\models \varphi \) we know that \( f \neq 1 \), so \( \neg f \neq 0 \), so the principal filter \( F_{\neg f} \) is proper, therefore it can be extended to a prime filter \( F \). %TODO: why???

    Taking the valuation \( w \) from the statement, we turn to computing \( \left[ \left[ \varphi \right] \right]_w \). By induction on subformulas, \( \left[ \left[ \psi \right] \right]_w \) is either \( 0 \) or \( 1 \) for any propositional formula \( \psi \) (we can also just note that \( \left\{ 0,1 \right\} \) is a subalgebra of \( \mathcal{B} \) and \( \mathcal{B} \) is nontrivial since \( \mathcal{B}, v \not\models \varphi \)).
    
    Also by structural induction on \( \psi \) we prove that \( \left[ \left[ \psi \right] \right]_w = 1 \) iff \( \left[ \left[ \psi \right] \right]_v \in F \). For variables this follows from the definition. For negation, this follows from the filter \( F \) being prime, so also maximal -- \( F \) contains either \( \left[ \left[ \psi \right] \right]_v \) or \( \left[ \left[ \neg\psi \right] \right]_v = \neg \left[ \left[ \psi \right] \right]_v \).
\end{proof}

% \section{Order properties of Boolean algebras}
